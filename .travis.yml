language: node_js
node_js:
- '0.10'
branches:
  only:
  - master
before_script:
- npm install -g grunt-cli
- ./create_config.sh
script:
- npm test
- node lib/run.js --projectKey ${SPHERE_PROJECT_KEY} --clientId ${SPHERE_CLIENT_ID}
  --clientSecret ${SPHERE_CLIENT_SECRET} --file data/example.xml
- node lib/run.js --projectKey ${SPHERE_PROJECT_KEY} --clientId ${SPHERE_CLIENT_ID}
  --clientSecret ${SPHERE_CLIENT_SECRET} --file data/example.csv
notifications:
  hipchat:
    rooms:
      secure: EK6da70n2lhrvkbPWxGFfPZ2K9oTJFI+wlJw85fQ32f3hL7WKfHfdhbKnoTLbEeeoKVLJvb5KfW4fNwJpjajTr5+5i+k0g/HM1fEfS1UiqUyZAaLK7JwDLX6JFtVl7c6l/MimuNxHF5OXq5FplqoiOwz12BobVQaz+Ou9sOWitE=
    template:
    - ! '%{repository}#%{build_number} (%{author}): %{message} (<a href="%{build_url}">Details</a>/<a
      href="%{compare_url}">Compare</a>)'
    format: html
    on_success: change
    on_failure: change
env:
  global:
  - secure: Vuritwxdg0sw6hv+htsZ6la0l8uupx/lDwv8L9IAmu6TMpA+rhS/v5rGzyuOe8N2cccOAkmEc4LbHBFZjs6+CcA3XWBmRtMijHwm0tIQT9lfqO9KSf9uuo0NnednAv7wXd45A9ablPWAwHiA4Ud5EwuZOeff5LG/og42aRgplyA=
  - secure: b9uEfx04h7VSuFvyLK1LdPEg7K4sCpjgboTXho+gGHQ22uRFYLHq//RNwNd1gGFC3/JezF+aRoboQ5Zu3vz+5mFZwG045w5NKV3jBEkgqWhDd1Dq8nGvF2qnWV+bo3RsBVPxDs8R1OW0DvPrO6wJkSypTW2LeSig1yAQn4iAn5s=
  - secure: hJ3aIoG/WcW0i1qs+EuNt6Lc05GDhLcD2HhjLccWldB0gdARKedQ3ZsOOf7P6yfRqQflpcU9gG5xvw/Ep+sv7XHqBWgLu/kXFPXhIMj1mSJfY4bqNxdyYFx797HstO8ef+j2JRksGFsRPx9fxGdsDzm6W9wZrA3bYLcjaryqyWI=
